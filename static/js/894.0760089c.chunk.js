"use strict";(self.webpackChunkfit_forge=self.webpackChunkfit_forge||[]).push([[894],{4894:(e,s,t)=>{t.r(s),t.d(s,{default:()=>W});var a=t(5043),r=t(3395),o=t(5099),c=t(2938),n=t(5275),i=t(3458),l=t(108),d=t(5748),h=t(7734),u=t(2185),x=t(6026),j=t(6150),m=t(1327),k=t(168),v=t(163),f=t(4240),y=t(7869),g=t(238),p=t(5479),w=t(3252),D=t(6260),N=t(3666);function A(e){(0,N.A)(1,arguments);var s=(0,D.A)(e);return s.setHours(0,0,0,0),s}function b(e){return(0,N.A)(1,arguments),function(e,s){(0,N.A)(2,arguments);var t=A(e),a=A(s);return t.getTime()===a.getTime()}(e,Date.now())}var E=t(3768),S=t(579);const W=e=>{var s;let{user:t,workouts:D,completedWorkouts:N}=e;const[A,W]=(0,a.useState)(0),[C,F]=(0,a.useState)([]),[B,T]=(0,a.useState)([]),[H,K]=(0,a.useState)(null);(0,a.useEffect)(()=>{P(),O(),_(),G(),L()},[N,D]);const P=()=>{if(!N||0===N.length)return void W(0);const e=N.map(e=>new Date(e.date)).sort((e,s)=>s-e);let s=0,t=new Date;t.setHours(0,0,0,0);for(let a=0;a<e.length;a++){const r=new Date(e[a]);r.setHours(0,0,0,0);if(Math.floor((t-r)/864e5)!==a)break;s++}W(s)},O=()=>{const e=(0,g.A)(new Date),s=[];for(let t=0;t<7;t++){const a=(0,p.A)(e,t),r=N.filter(e=>new Date(e.date).toDateString()===a.toDateString());s.push({day:(0,w.A)(a,"EEE"),workouts:r.length,calories:r.reduce((e,s)=>e+(s.calories||0),0)})}F(s)},_=()=>{const e={};N.forEach(s=>{s.exercises&&s.exercises.forEach(s=>{const t=s.bodyPart||"Other";e[t]=(e[t]||0)+1})});const s=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"],t=Object.keys(e).map((t,a)=>({name:t,value:e[t],color:s[a%s.length]}));T(t)},G=()=>{const e=(0,w.A)(new Date,"EEE"),s=D.find(s=>s.day===e);K(s)},L=()=>{const e=(new Date).getHours();if(8===e||18===e){const e=(0,w.A)(new Date,"EEE");if(t.workoutDays.includes(e)){N.some(e=>b(new Date(e.date)))||(0,E.Ay)("Time for your workout! \ud83d\udcaa",{icon:"\ud83c\udfcb\ufe0f",duration:5e3})}}},M=[{title:"Current Streak",value:"".concat(A," days"),icon:(0,S.jsx)(r.A,{className:"stat-icon"}),color:"purple"},{title:"Total Workouts",value:N.length,icon:(0,S.jsx)(o.A,{className:"stat-icon"}),color:"blue"},{title:"This Week",value:C.reduce((e,s)=>e+s.workouts,0),icon:(0,S.jsx)(c.A,{className:"stat-icon"}),color:"green"},{title:"Calories Burned",value:N.reduce((e,s)=>e+(s.calories||0),0),icon:(0,S.jsx)(n.A,{className:"stat-icon"}),color:"orange"}];return(0,S.jsxs)("div",{className:"dashboard",children:[(0,S.jsxs)("div",{className:"dashboard-header",children:[(0,S.jsxs)("h1",{children:["Welcome back to FitForge, ",t.name,"! \ud83d\udc4b"]}),(0,S.jsx)("p",{children:"Here's your fitness journey at a glance"})]}),(0,S.jsx)("div",{className:"stats-grid",children:M.map((e,s)=>(0,S.jsxs)("div",{className:"stat-card ".concat(e.color),children:[e.icon,(0,S.jsxs)("div",{className:"stat-content",children:[(0,S.jsx)("h3",{children:e.value}),(0,S.jsx)("p",{children:e.title})]})]},s))}),H&&(0,S.jsxs)("div",{className:"today-workout-card",children:[(0,S.jsxs)("div",{className:"card-header",children:[(0,S.jsx)("h2",{children:"Today's Workout"}),(0,S.jsx)(i.A,{className:"header-icon"})]}),(0,S.jsxs)("div",{className:"workout-preview",children:[(0,S.jsx)("h3",{children:H.name}),(0,S.jsxs)("p",{children:[(null===(s=H.exercises)||void 0===s?void 0:s.length)||0," exercises \u2022 ",H.duration||"30"," minutes"]}),(0,S.jsx)("button",{className:"btn btn-primary",children:"Start Workout"})]})]}),(0,S.jsxs)("div",{className:"charts-container",children:[(0,S.jsxs)("div",{className:"chart-card",children:[(0,S.jsx)("h2",{children:"Weekly Progress"}),(0,S.jsx)(l.u,{width:"100%",height:250,children:(0,S.jsxs)(d.b,{data:C,children:[(0,S.jsx)(h.d,{strokeDasharray:"3 3"}),(0,S.jsx)(u.W,{dataKey:"day"}),(0,S.jsx)(x.h,{}),(0,S.jsx)(j.m,{}),(0,S.jsx)(m.s,{}),(0,S.jsx)(k.N,{type:"monotone",dataKey:"workouts",stroke:"#8884d8",name:"Workouts"}),(0,S.jsx)(k.N,{type:"monotone",dataKey:"calories",stroke:"#82ca9d",name:"Calories"})]})})]}),(0,S.jsxs)("div",{className:"chart-card",children:[(0,S.jsx)("h2",{children:"Body Part Distribution"}),B.length>0?(0,S.jsx)(l.u,{width:"100%",height:250,children:(0,S.jsxs)(v.r,{children:[(0,S.jsx)(f.F,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*t).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:B.map((e,s)=>(0,S.jsx)(y.f,{fill:e.color},"cell-".concat(s)))}),(0,S.jsx)(j.m,{})]})}):(0,S.jsx)("p",{className:"no-data",children:"Start completing workouts to see your progress!"})]})]}),(0,S.jsxs)("div",{className:"motivation-card",children:[(0,S.jsx)("h2",{children:"\ud83d\udcaa Keep Going!"}),(0,S.jsxs)("p",{children:["You're on a ",A," day streak! Don't break the chain!"]})]})]})}}}]);
//# sourceMappingURL=894.0760089c.chunk.js.map