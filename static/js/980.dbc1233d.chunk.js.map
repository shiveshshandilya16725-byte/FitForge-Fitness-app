{"version":3,"file":"static/js/980.dbc1233d.chunk.js","mappings":"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","sources":["pages/Progress.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { PieChart, Pie, Cell, ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nimport { format, startOfWeek, addDays, isToday } from 'date-fns';\nimport toast from 'react-hot-toast';\nimport { Award, Activity, Calendar, TrendingUp, Dumbbell } from 'lucide-react'; // Ensure these are imported\n\nconst Progress = ({ completedWorkouts, user }) => {\n  const [streak, setStreak] = useState(0);\n  const [weeklyProgress, setWeeklyProgress] = useState([]);\n  const [bodyPartData, setBodyPartData] = useState([]);\n\n  // Ensure we always operate on an array to avoid runtime errors\n  const workouts = Array.isArray(completedWorkouts) ? completedWorkouts : [];\n\n  // ... (Keep all the existing calculation logic for streak, weeklyProgress, bodyPartData) ...\n  // NOTE: I am skipping the calculation logic block here for brevity, \n  // but ensure your existing logic for these three states remains EXACTLY the same.\n  \n  useEffect(() => {\n    calculateStreak();\n    calculateWeeklyProgress();\n    calculateBodyPartDistribution();\n  }, [completedWorkouts]);\n\n  const calculateStreak = () => {\n    if (!workouts || workouts.length === 0) {\n      setStreak(0);\n      return;\n    }\n\n    const sortedDates = workouts\n      .map(w => new Date(w.date))\n      .sort((a, b) => b - a);\n\n    let currentStreak = 0;\n    let currentDate = new Date();\n    currentDate.setHours(0, 0, 0, 0);\n\n    for (let i = 0; i < sortedDates.length; i++) {\n      const workoutDate = new Date(sortedDates[i]);\n      workoutDate.setHours(0, 0, 0, 0);\n      \n      const diffDays = Math.floor((currentDate - workoutDate) / (1000 * 60 * 60 * 24));\n      \n      if (diffDays === i) {\n        currentStreak++;\n      } else {\n        break;\n      }\n    }\n    setStreak(currentStreak);\n  };\n\n  const calculateWeeklyProgress = () => {\n    const weekStart = startOfWeek(new Date());\n    const weekData = [];\n\n    for (let i = 0; i < 7; i++) {\n      const day = addDays(weekStart, i);\n      const dayWorkouts = workouts.filter(w => {\n        const workoutDate = new Date(w.date);\n        return workoutDate.toDateString() === day.toDateString();\n      });\n\n      weekData.push({\n        day: format(day, 'EEE'),\n        workouts: dayWorkouts.length,\n        calories: dayWorkouts.reduce((sum, w) => sum + (w.calories || 0), 0)\n      });\n    }\n    setWeeklyProgress(weekData);\n  };\n\n  const calculateBodyPartDistribution = () => {\n    const bodyParts = {};\n    workouts.forEach(workout => {\n      if (workout.exercises) {\n        workout.exercises.forEach(exercise => {\n          const part = exercise.bodyPart || 'Other';\n          bodyParts[part] = (bodyParts[part] || 0) + 1;\n        });\n      }\n    });\n\n    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'];\n    const data = Object.keys(bodyParts).map((part, index) => ({\n      name: part,\n      value: bodyParts[part],\n      color: colors[index % colors.length]\n    }));\n\n    setBodyPartData(data);\n  };\n\n\n  const stats = [\n    {\n      title: 'Current Streak',\n      value: `${streak} days`,\n      icon: <Award className=\"stat-icon\" />,\n      color: 'purple'\n    },\n    {\n      title: 'Total Workouts',\n      value: workouts.length,\n      icon: <Activity className=\"stat-icon\" />,\n      color: 'blue'\n    },\n    {\n      title: 'This Week',\n      value: weeklyProgress.reduce((sum, day) => sum + day.workouts, 0),\n      icon: <Calendar className=\"stat-icon\" />,\n      color: 'green'\n    },\n    {\n      title: 'Calories Burned',\n      value: workouts.reduce((sum, w) => sum + (w.calories || 0), 0),\n      icon: <TrendingUp className=\"stat-icon\" />,\n      color: 'orange'\n    }\n  ];\n\n  return (\n    <div className=\"progress-page\">\n      <div className=\"progress-header\">\n        <h1>Your Progress Hub</h1>\n        <p>Visualizing your dedication and improvement over time.</p>\n      </div>\n\n      <div className=\"stats-grid\">\n        {stats.map((stat, index) => (\n          <div key={index} className={`stat-card ${stat.color}`}>\n            {stat.icon}\n            <div className=\"stat-content\">\n              <h3>{stat.value}</h3>\n              <p>{stat.title}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"charts-container\">\n        <div className=\"chart-card progress-chart-card\">\n          <h2>Weekly Activity</h2>\n          {weeklyProgress.length > 0 ? (\n            <ResponsiveContainer width=\"100%\" height={280}>\n              <LineChart data={weeklyProgress} margin={{ top: 5, right: 20, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" />\n                <XAxis dataKey=\"day\" stroke=\"var(--gray)\" />\n                <YAxis allowDecimals={false} stroke=\"var(--gray)\" />\n                <Tooltip \n                    contentStyle={{ \n                        borderRadius: '8px', \n                        border: '1px solid #ccc', \n                        padding: '10px' \n                    }}\n                />\n                <Legend verticalAlign=\"top\" height={36}/>\n                <Line type=\"monotone\" dataKey=\"workouts\" stroke=\"#667eea\" name=\"Workouts\" strokeWidth={3} dot={{ r: 4 }} activeDot={{ r: 7 }} />\n                <Line type=\"monotone\" dataKey=\"calories\" stroke=\"#48bb78\" name=\"Calories Burned\" strokeWidth={3} dot={{ r: 4 }} activeDot={{ r: 7 }} />\n              </LineChart>\n            </ResponsiveContainer>\n          ) : (\n            <p className=\"no-data\">Complete a workout to start tracking your weekly activity!</p>\n          )}\n        </div>\n\n        <div className=\"chart-card body-dist-card\">\n          <h2>Body Part Distribution</h2>\n          {bodyPartData.length > 0 ? (\n            <ResponsiveContainer width=\"100%\" height={280}>\n              <PieChart>\n                <Pie\n                  data={bodyPartData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  innerRadius={60} // Makes it a donut chart for better look\n                  outerRadius={90}\n                  paddingAngle={3}\n                  dataKey=\"value\"\n                >\n                  {bodyPartData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.color} />\n                  ))}\n                </Pie>\n                <Tooltip \n                    formatter={(value, name, props) => [`${value} Exercises`, props.payload.name]}\n                    contentStyle={{ \n                        borderRadius: '8px', \n                        border: '1px solid #ccc', \n                        padding: '10px' \n                    }}\n                />\n              </PieChart>\n            </ResponsiveContainer>\n          ) : (\n          <div className=\"empty-chart-placeholder\">\n            <Dumbbell className=\"placeholder-icon\" />\n            <p>Start completing routines to see which muscle groups you are training the most!</p>\n          </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Progress;"],"names":["_ref","completedWorkouts","user","streak","setStreak","useState","weeklyProgress","setWeeklyProgress","bodyPartData","setBodyPartData","workouts","Array","isArray","useEffect","calculateStreak","calculateWeeklyProgress","calculateBodyPartDistribution","length","sortedDates","map","w","Date","date","sort","a","b","currentStreak","currentDate","setHours","i","workoutDate","Math","floor","weekStart","startOfWeek","weekData","day","addDays","dayWorkouts","filter","toDateString","push","format","calories","reduce","sum","bodyParts","forEach","workout","exercises","exercise","part","bodyPart","colors","data","Object","keys","index","name","value","color","stats","title","concat","icon","_jsx","Award","className","Activity","Calendar","TrendingUp","_jsxs","children","stat","ResponsiveContainer","width","height","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","YAxis","allowDecimals","Tooltip","contentStyle","borderRadius","border","padding","Legend","verticalAlign","Line","type","strokeWidth","dot","r","activeDot","PieChart","Pie","cx","cy","innerRadius","outerRadius","paddingAngle","entry","Cell","fill","formatter","props","payload","Dumbbell"],"ignoreList":[],"sourceRoot":""}